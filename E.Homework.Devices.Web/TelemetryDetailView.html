<!DOCTYPE html>
<html>
<head>
    <script src="Scripts/jquery-1.6.4.min.js"></script>
    <script src="Scripts/jquery.signalR-2.2.2.min.js"></script>
    <script src="signalr/hubs"></script>      
    <meta charset="utf-8" />
    <title>telemetry detail view</title>

    <script>

        $(function () {

            var telemetryHub = $.connection.telemetryHub;
            $.connection.hub.start();

            telemetryHub.client.publishData = function (message, messageCount) {
                $('#container').append('Device id: ' + message.DeviceId
                    + ', device measurement: ' + message.Value + ' Units: ' + message.Units + ', Received: ' + new Date().toLocaleTimeString() + ', message count: ' + messageCount + '<br/>');
            }           
        });

    </script>

</head>
<body>
    <p id="container"></p>
</body>
</html>